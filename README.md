## 시계열 프로젝트 모음
### 1. 주식종가예측 📈 
#### 분석 주제 : 전일 종가를 활용한 다음날의 주식 종가 예측 모델 개발
기간 : 22.03.04 ~ 22.04.09 비어플 활동 간 진행한 프로젝트 <br>
데이터 : 21.01.04 ~ 21.11.26 간 일 별 국내 KOSPI200, KOSDAQ150 종목 별 시가, 고가, 저가, 종가, 거래량<br>
맡은 부분 : web crwaling,  timeseries clustering,  modeling(Randomforest)
*** 
### 분석 과정
__1) 추가 데이터 수집__ : WICS의 주식 별 섹터 분류지표, 나스닥 및 다우지수를 크롤링하여 테마 변수로 추가  
__2) EDA__ : 주가의 추세 파악 및 파생변수 생성  
같은 섹터의 주식에서도 추이가 다른것을 확인하여 테마 내 군집화를 통한 세분화 진행  
__3) 군집화__ : 시계열의 개형을 유사도 지표로 하는 DTW(동적시간워핑)을 사용한 k-means 진행. 
![image](https://velog.velcdn.com/images/pong_jin/post/4d323a76-dd2a-4b23-b3c4-1b028fc7ce1e/image.png)<br> 군집 결과 비슷한 추세를 보이는 종목끼리 군집화가 되어 기존 테마 변수를 대체
![image](https://velog.velcdn.com/images/pong_jin/post/0c32d9e1-b5d1-4f4d-a283-962f598b2cd4/image.png)
__4) 모델링 및 결과__ : LGBM, ARIMA, RandomForest 를 사용.   
ARIMA의 성능이 가장 높았으나, 이는 단순 전일 종가를 끌고 온 결과와 같음. 따라서 미래 종가를 예측하기엔 부적합한 분석으로 최종 판단.  
또한 주식의 특성 상 외부 요인 없이 단순 종가 관련 지표만 가지고 미래의 가격을 예측하기보단 __추세나 등락 여부를 예측__ 하는 것이 더 적합하다는 것을 알 수 있었다.
***
### 시사점
> 시계열에 대한 개념이 부족한 상태여서 시점을 고려하지 않고 교차검증을 수행하는 등 부족한 부분이 많았다.  
하지만 시계열 그래프의 개형으로 군집화를 할 수 있다는 새로운 내용을 배울 수 있었기에 충분히 의미 있는 분석이라고 생각한다!

***
### 2. 영화 VOD 전환시점 예측 🎥
#### 분석주제 : 영화가 영화관에서 개봉 후 VOD에 개봉하기 전 까지의 기간인 "홀드백"을 예측 후 실제 기간과 비교
기간 : 22.10.28 ~ 22.12.18 동국대학교 시계열 해석 수업 내 프로젝트  
데이터 : KOBIS(영화관입장권통합전상망) 내 공조2:인터네셔널 , 범죄도시2 , 한산:용의 출현의 일 별 데이터  
영화 선정 이유 : 코로나 기간에도 불구하고 흥행에 성공하여 수익 분석이 유의미한 영화
***
### 분석 과정
**1) 주제 선정 배경**  
    개봉 후 VOD로 넘어가는 기간이 너무 짧으면 상영관의 수익 감소, 너무 길면 영화의 인기가 식어 VOD의 수익 감소<br>즉 상영사 배급사 모두 만족할 수 있는 홀드백(영화 상영 후 2차 매체(예:VOD)로 넘어가기 까지의 기간)을 제시

**2) EDA**  
분석의 신뢰성 및 타당성을 바탕으로 개봉 5주차인 35일까지의 일 별 관객수와 좌석판매율 데이터를 train으로,  이후 36 ~ 70일까지의 값을 target으로 설정  
<img src="https://velog.velcdn.com/images/pong_jin/post/460eaf08-b7cf-4b60-96b7-19c101b6304b/image.png" width="600" height="380"/>  
공통적으로 7일의 주기가 확인되며 특정 주차의 수요일에 값이 상승하는 것을 파악.  
이는 매달 마지막 주 수요일에 문화가 있는 날의 영화할인으로 인한 현상으로, 모형 내 지시함수로 반영.  

**3) 홀드백 구간 지정**  
<b>관객수</b>의 실제 관측값이 예측구간보다 낮아지는 시점 부터는 <b>최소 홀드백</b>으로 지정  
해당 시점부터는 상영사의 수익에 큰 영향을 끼치지 않는것으로 판단. <br> <b>좌석판매율</b>의 실제 관측값이 예측구간보다 낮아지는 시점 까지를 <b>최대 홀드백</b>으로 지정  
해당 시점부터는 영화의 인기가 떨어지기 시작하는 시점으로 판단.  
**최소 ~ 최대 사이의 구간을 VOD전환 및 동시상영 적기인 홀드백 구간으로 설정.**  

**4) 모델링 및 결과**  
분해법과 계절차분 모형을 적합. RMSE로 모델 평가 결과 분해법의 성능이 더 좋음.  
차분 모형은 기존 35 point의 소 표본에서 차분으로 인해 27개의 표본 밖에 사용하지 못해 성능차이가 난 것으로 해석됨. **분해법 모델** 최종선정  

이후 해당 모델로 만든 홀드백 구간을 데이터에 적용 후 실제 VOD 개봉일과 비교.  
<img src="https://velog.velcdn.com/images/pong_jin/post/b85254c8-39df-4289-92e2-c67f03c6e71f/image.png" width="700" height="100"/>  
"공조2"와 "범죄도시2"는 실제 VOD개봉일이 모두 예측 기간에 포함됨.  
 "한산:용의출현" 의 경우 사전계약으로 인한 OTT 서비스 중도 개봉으로 인해 분석 결과와 차이가 있음  
***
### 시사점
>최근 영화계에서는 OTT의 성장으로 인해 홀드백의 의미가 없어지는 경우가 대부분이라 특정 메이저 영화를 제외하면 분석이 제한되며, 영화 특성상 1달이라는 짧은 기간에 대부분의 수익을 내므로 소 표본으로 인한 분석의 신뢰성이 떨어질 수 있다고 생각한다.     
하지만 예측일과 실제 VOD개봉일이 일치하는점을 통해 구간 추정을 통한 분석이 유의미함을 알 수 있다. 
